{% extends 'configurator-base.html' %}


{% block config_option %}

  <!-- Analysis Conf -->
  <div class="row">
    <div class="col-sm-12 text-center">
      <h3 class="mb-5">Analysis Configuration</h3>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      {% for message in messages %}
        <div class="alert {{ message.tags }} alert-dismissible" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          {{ message | safe }}
        </div>
      {% endfor %}

      <div class="d-flex justify-content-around">
        {% if form.error %}
          <p class="text-danger">Sorry, something went wrong, while loading the form</p>
        {% else %}
          <div class="form-group">
            <form action="" method="POST">{% csrf_token %} 
              {{form.as_p}}

              <input class="btn btn-success" type="submit" value="Start"/>

              <div class="d-flex justify-content-end">
                <small id="formHelper" class="form-text text-muted">Please fill all data</small>
              </div>
            </form>
          </div>
        {% endif %}
      </div>
    </div>
  </div>

  <hr class="my-5 w-75"/>

  <div class="container">
    <div class="row">
      <div class="col-sm-12 text-center">
        <strong>
          <h3>Result</h3>
        </strong>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="d-flex flex-column justify-content-center my-5">
          {% if data %}
            <img class="d-block mx-auto mt-1 mb-5" src="data:image/png;base64, {{data}}" alt="Result">
          {% else %}
            <p class="text-center">
              There is No Result Yet
            </p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

{% endblock %}